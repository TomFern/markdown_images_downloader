version: v1.0
name: Backend lint
agent:
  machine:
    type: e1-standard-2
    os_image: ubuntu1804
blocks:
  - name: Frontend lint
    task:
      jobs:
        - name: Lint
          commands:
            - checkout
    dependencies: []
  - name: Backend Build
    dependencies:
      - Backend lint
    task:
      jobs:
        - name: Build
          commands: []
  - name: Backend test
    dependencies:
      - Backend Build
    task:
      jobs:
        - name: Unit 1/3
          commands: []
        - name: Unit 2/3
          commands: []
        - name: Unit 3/3
          commands: []
  - name: E2E Tests
    dependencies:
      - Backend test
      - Frontend test
    task:
      jobs:
        - name: 'Nightwatch  '
          commands: []
  - name: Release candidate
    dependencies:
      - E2E Tests
    task:
      jobs:
        - name: Release
          commands: []
  - name: Frontend test
    dependencies:
      - Frontend build
    task:
      jobs:
        - name: Unit 1/2
          commands: []
        - name: Unit 2/2
          commands: []
  - name: Frontend build
    dependencies:
      - Frontend lint
    task:
      jobs:
        - name: Build
          commands: []
  - name: Backend lint
    dependencies: []
    task:
      jobs:
        - name: Lint
          commands: []
